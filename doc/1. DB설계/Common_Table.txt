DROP TABLE COMMON_USER;

CREATE TABLE COMMON_USER (
	USER_EMAIL		VARCHAR(100)    					NOT NULL	COMMENT '이메일아이디'	,
	USER_PW			VARCHAR(100)	    				NOT NULL	COMMENT '비밀번호'		,
	USER_NAME		VARCHAR(50)		    				NOT NULL	COMMENT '이름'		,
	ZIPCODE			VARCHAR(6)	    					NULL		COMMENT '우편번호'		,
	ADDR1			VARCHAR(400)    					NULL		COMMENT '주소1'		,
	ADDR2			VARCHAR(400)    					NULL		COMMENT '주소2'		,
	PHONE			VARCHAR(30)	    					NULL		COMMENT '전화번호'		,
	USER_CLASS		VARCHAR(10) 	DEFAULT 'USER'		NOT NULL	COMMENT '사용자등급'	,
	REG_DT			TIMESTAMP       DEFAULT NOW()		NOT NULL	COMMENT '가입일자'		,
    MOD_DT			TIMESTAMP        					NULL		COMMENT '수정일자'		,
	DEL_DT			TIMESTAMP        					NULL		COMMENT '탈퇴일자'		,
	DEL_YN			VARCHAR(1)  	DEFAULT 'N'			NOT NULL	COMMENT '탈퇴여부'		,
	PRIMARY KEY (USER_EMAIL)
) COMMENT '사용자공통테이블';

INSERT INTO COMMON_USER(
	USER_EMAIL,
	USER_PW,
	USER_NAME,
	ZIPCODE,
	ADDR1,
	ADDR2,
	PHONE,
	USER_CLASS
) VALUES (
	'gumeori2000@gmail.com',
	PASSWORD('1234'),
	'정기현',
	'123-45',
	'주소1',
	'주소2',
	'010-6344-7711',
	'SUPER'
);

CREATE TABLE COMMON_BOARD_CODE (
	SITE_LANG		VARCHAR(20)	NOT NULL	DEFAULT 'KOR'	COMMENT '사이트언어'	,
	BOARD_CODE		VARCHAR(20)	NOT NULL					COMMENT '게시판코드'	,
	UP_BOARD_CODE	VARCHAR(20)	NULL						COMMENT '상위게시판코드',
	BOARD_ORDER		INT			NOT NULL	DEFAULT 1		COMMENT '게시판순서'	,
	OPEN_YN			VARCHAR(1)	NOT NULL	DEFAULT 'Y'		COMMENT '공개여부'	,
	REG_DATE		DATETIME	NOT NULL	DEFAULT NOW()	COMMENT '최초등록일'	,
	MOD_DATE		DATETIME	NOT NULL	DEFAULT NOW()	COMMENT '최종수정일'	,
	PRIMARY KEY (BOARD_CODE)
) COMMENT '게시판코드테이블';

CREATE TABLE COMMON_BOARD (
	BOARD_CODE		VARCHAR(20)	NOT NULL					COMMENT '게시판코드'	,
	
	BOARD_NO		INT			NOT NULL					COMMENT '글번호'		,
	BOARD_UP_NO		INT			NULL						COMMENT '상위글번호'	,
	USER_ID			VARCHAR(20)	NULL						COMMENT '작성자ID'	,
	TITLE			VARCHAR(400)	NULL					COMMENT '글제목'		,
	CONTENT			TEXT		NULL						COMMENT '글내용'		,
	OPEN_YN			VARCHAR(1)	NOT NULL	DEFAULT 'Y'		COMMENT '공개여부'	,
	DEL_YN			VARCHAR(1)	NOT NULL	DEFAULT 'N'		COMMENT '삭제여부'	,
	IP				VARCHAR(20)	NOT NULL					COMMENT '작성자IP'	,
	REG_DATE		DATETIME	NOT NULL	DEFAULT NOW()	COMMENT '최초등록일'	,
	MOD_DATE		DATETIME	NOT NULL	DEFAULT NOW()	COMMENT '최종수정일'	,
	PRIMARY KEY (BOARD_NO)
) COMMENT '게시판공통테이블';

CREATE TABLE COMMON_FILE (
	FILE_NO			INT			NOT NULL						COMMENT '파일번호'	,
	FILE_CODE		VARCHAR(20)	NOT NULL					COMMENT '파일코드'	,
	FILE_NAME		VARCHAR(400)	NOT NULL				COMMENT '파일이름'	,
	FILE_PATH		VARCHAR(400)	NOT NULL				COMMENT '파일경로'	,
	FILE_SIZE		INT			NOT NULL	DEFAULT 0			COMMENT '파일크기'	,
	REG_DATE		DATETIME	NOT NULL	DEFAULT NOW()	COMMENT '최초등록일'	,
	MOD_DATE		DATETIME	NOT NULL	DEFAULT NOW()	COMMENT '최종수정일'	,
	PRIMARY KEY (FILE_NO)
) COMMENT='파일공통테이블';